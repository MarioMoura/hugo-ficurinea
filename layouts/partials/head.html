<head>
    {{ if .Site.Params.forceRedirect }}
        <script>
            if (location.host != new URL("{{ .Site.BaseURL }}").host) location.href = "{{ .Site.BaseURL }}"
        </script>
    {{ end }}
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=7">

    {{ if .OutputFormats.Get "RSS" }}
        {{ with .OutputFormats.Get "RSS" }}
          <link href="{{ .Permalink }}" rel="alternate" type="application/rss+xml" title="{{ $.Site.Title }}" />
          <link href="{{ .Permalink }}" rel="feed" type="application/rss+xml" title="{{ $.Site.Title }}" />
        {{ end }}
    {{ end }}

    <link rel="shortcut icon" href='{{ .Site.Params.favicon | default "/img/favicon.png" }}' type="image/x-icon" />

    <title>
        {{ if ne .Title .Site.Title }}
            {{ .Title }}  &ndash;
        {{ end }}
        {{ .Site.Title | default "Ficurinia" }}
    </title>
    <link href="/symbols-nerd-font/symbols-nerd-font.css" rel="stylesheet">
    <link href="/jetbrains-mono/jetbrains-mono.css" rel="stylesheet">
    {{ $style := resources.Get "/scss/style.scss" | resources.ExecuteAsTemplate "/scss/style.scss" . | resources.ToCSS (dict "targetPath" "css/styles.css" "outputStyle" "compressed" "enableSourceMap" "true") | resources.Fingerprint "sha512" }}
    <link type=text/css rel=stylesheet href={{ $style.Permalink }} integrity="{{ $style.Data.Integrity }}" />
    {{- partial "inject/head.html" . -}}
    <meta property="og:site_name" content='{{ .Site.Title | default "Ficurinia" }}' />
    {{ if .IsPage }}
        <meta property="og:title" content="{{ .Title }}" />
        <meta property="og:type" content="article" />
        
        <meta property="article:author" content="{{ .Site.Params.Author }}" />
        <meta property="article:published_time" content='{{ .Date.Format "2006-01-02T15:04:05Z-0700" }}' />
        {{ range .Params.tags }}
            <meta property="article:tag" content="{{ . }}" />
        {{ end }}
        <meta property="og:url" content="{{ .Permalink }}" />
        <meta property="og:image" content='{{ if .Params.Image }}{{ .Params.Image | absURL }}{{ else }}{{ .Site.Params.Logo | default "/img/icon.svg" | absURL }}{{ end }}' />
        <meta property="og:description" content="{{ .Summary }}" />
    {{ else }}
        <meta property="og:image" content='{{ .Site.Params.Logo | default "/img/icon.svg" | absURL }}' />
    {{ end }}
</head>
